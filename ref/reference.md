# BinaryJS Reference
In BinaryJS, Converter objects, which define a certain use-specific datatype or structure, have to be created first before any encoding/decoding can be performed.

All Converter objects come with two methods:

---
### Converter.encode(data)
Encodes the given data, which matches the previously defined datatype or structure, into a binary format, stored using the **UTF-8 encoding**. Each character encodes one byte ranging from 0-255. The format of `data` changes with Converter type.

---
### Converter.decode(string)
Decodes the given string, which was generated by encoding data through the same helper object, back into the previously defined datatype or structure. If no errors are made, this output will be exactly equal to the input passed to the `Converter.encode` method.

# Converter types

There are different types of Converters, each built for their respective datatype/structure:

---
## Binary.Boolean
Accepts true/false values.<br>
### Instanciation syntax:
```javascript
new Binary.Boolean()
```
### Encoding syntax:
```javascript
Converter.encode(boolean)
```
---
## Binary.Number
Accepts any numeric value within the range of the specified bytetype.<br>
### Instanciation syntax:
```javascript
new Binary.Number(type)
```
*Arguments:*<br>
- `type` - The bytetype which the number will be encoded in. Accepted values are **uByte**, **sByte**, **uShort**, **sShort**, **uTribyte**, **sTribyte**, **uInt**, **sInt**, **float** and **double**. Defaults to **double**.
### Encoding syntax:
```javascript
Converter.encode(number)
```

---
## Binary.String
Accepts any string.
### Instanciation syntax:
```javascript
new Binary.String(length)
```
*Arguments:*<br>
- `length` - Specifies the bytetype storing the length of the string. Accepted values are **byte**, **short**, **tribyte**, **int**, **float**, **double** and **nullTer** (null-terminated string with no length limit). Defaults to **nullTer**.
### Encoding syntax:
```javascript
Converter.encode(string)
```

---
## Binary.Object
Accepts any object made up of *Converter* objects.
### Instanciation syntax:
```javascript
new Binary.Object(blueprint)
```
*Arguments:*<br>
- `blueprint` - An object of key-value pairs where every value points to a *Converter* object.
### Encoding syntax:
```javascript
Converter.encode(object)
// The structure of the passed object must match that specified within the blueprint.
```
### Example:
```javascript
var personBlueprint = new Binary.Object({
    age: new Binary.Number("uByte"),
    name: new Binary.String(),
    isChild: new Binary.Boolean()
});
var person = {
    age: 42,
    name: "John Doe",
    isChild: false
};
var encodedData = personBlueprint.encode(person);
```

---
## Binary.Array
Accepts any array following the specified pattern.
### Instanciation syntax:
```javascript
new Binary.Array(pattern[, repeatSize])
```
*Arguments:*<br>
- `pattern` - An array containing *Converter* objects. The order of these objects will set the pattern for this array.
- `repeatSize` - Specifies the bytetype storing the amount of pattern repitions. Accepted values are **byte**, **short**, **tribyte**, **int**, **float** and **double**. If omitted, only inputs with the same array length as the pattern are accepted.
### Encoding syntax:
```javascript
Converter.encode(array)
// Array structure including its repeats must match the one specified within the pattern.
```
### Example:
```javascript
// Non-repeating
var firstAndLastNamePattern = new Binary.Array([new Binary.String(), new Binary.String()]);
var firstAndLastName = ["John", "Doe"];
var encodedData = firstAndLastNamePattern.encode(firstAndLastName);

// Repeating (single element)
var randomIntegersPattern = new Binary.Array([new Binary.Number("sInt")], "int");
var randomIntegers = [4, 75, 34, -725, 142, 92];
var encodedData = randomIntegersPattern.encode(randomIntegers);
```

---
## Binary.Dynamic
Used for cases in which the programmer can't predetermine or predict the required datatype/structure. This object is passed an associative object of possible Converter objects, each assigned to a specific key. Upon encoding, the key of the desired Converter, along with the data structure itself, is then passed to the `.encode` method.
### Instanciation syntax:
```javascript
new Binary.Dynamic(pairs)
```
*Arguments:*<br>
- `pairs` - An associative object where every key points to a Converter object.
### Encoding syntax:
```javascript
Converter.encode({key: desiredKey, value: dataToEncode});
/* Desired key has to be a key of the specified pairs object, and the structure of
   that key's value has to match that of dataToEncode. */
```
### Example:
```javascript
var chairBlueprint = new Binary.Object({height: new Binary.Number("float")}),
    tableBlueprint = new Binary.Object({area: new Binary.Number("float")}),
    lampBlueprint = new Binary.Object({color: new Binary.String()});
    
var furnitureArray = new Binary.Array([new Binary.Dynamic({
    chair: chairBlueprint,
    table: tableBlueprint,
    lamp: lampBlueprint
})], "byte");

var encodedData = furnitureArray.encode([
    {key: "chair", value: {height: 0.73}},
    {key: "chair", value: {height: 0.25}},
    {key: "lamp", value: {color: "orange"}},
    {key: "table", value: {area: 2.125}},
    {key: "lamp", value: {color: "white"}}
]);
```
