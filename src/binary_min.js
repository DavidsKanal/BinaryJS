!function(){function t(t){switch(t){case"byte":return 1;case"short":return 2;case"tribyte":return 3;case"int":case"float":return 4;case"double":return 8;default:throw new Error("Incorrect number type '"+t+"'")}}function r(t){switch(t){case 1:return"byte";case 2:return"short";case 3:return"tribyte";case 4:return"int";default:return"double"}}function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t){for(var r="",e=0;e<t.length;e++)r+=("00000000"+t.charCodeAt(e).toString(2)).slice(-8);return r}var n={Boolean:function(){this.encode=function(t){return a.toUByte(t?1:0)},this.decode=function(t){var r="string"==typeof t?{val:t}:t,e=1===a.fromUByte(r.val.charAt(0));return r.val=r.val.slice(1),e}},Number:function(r){var o=t(("double"!==(r=r||"double")&&"float"!==r?r.slice(1):r).toLowerCase());this.encode=function(t){return a["to"+e(r)](t)},this.decode=function(t){var n="string"==typeof t?{val:t}:t,i=a["from"+e(r)](n.val.slice(0,o));return n.val=n.val.slice(o),i}},String:function(r){r=r||"nullTer",this.encode=function(o){return"nullTer"===r?o+String.fromCharCode(0):a["toU"+e(r)](o.length)+o.slice(0,t(r))},this.decode=function(o){var n,i="string"==typeof o?{val:o}:o;if("nullTer"===r)n=i.val.slice(0,i.val.indexOf(String.fromCharCode(0))),i.val=i.val.slice(n.length+1);else{var c=t(r),f=a["fromU"+e(r)](i.val.slice(0,c));n=i.val.slice(c,c+f),i.val=i.val.slice(c+f)}return n}},Object:function(t){this.encode=function(r){var e="";for(var o in t)e+=t[o].encode(r[o]);return e},this.decode=function(r){var e={},o="string"==typeof r?{val:r}:r;for(var n in t)e[n]=t[n].decode(o);return e}},Array:function(r,o){if(o)var n=t(o);this.encode=function(t){var n="";if(o){for(var i=Math.ceil(t.length/r.length),c=0;c<i;c++)for(var f=0;f<r.length;f++)n+=r[f].encode(t[c*r.length+f]);n=a["toU"+e(o)](i)+n}else for(c=0;c<r.length;c++)n+=r[c].encode(t[c]);return n},this.decode=function(t){var i=[],c="string"==typeof t?{val:t}:t;if(o){var f=a["fromU"+e(o)](c.val.slice(0,n));c.val=c.val.slice(n);for(h=0;h<f;h++)for(var u=0;u<r.length;u++)i[h*r.length+u]=r[u].decode(c)}else for(var h=0;h<r.length;h++)i[h]=r[h].decode(c);return i}},Dynamic:function(o){var n=Object.keys(o),i=Math.ceil(Math.log2(n.length)/8),c=r(i);i=t(c),this.encode=function(t){return console.log(n,i,c),a["toU"+e(c)](n.indexOf(t.key))+o[t.key].encode(t.value)},this.decode=function(t){var r="string"==typeof t?{val:t}:t,f=n[a["fromU"+e(c)](r.val.slice(0,i))];return r.val=r.val.slice(i),{key:f,value:o[f].decode(r)}}}},a={fromUByte:function(t){return t.charCodeAt(0)},toUByte:function(t){return t=Math.round(t),String.fromCharCode(t)},fromUShort:function(t){return 256*t.charCodeAt(0)+t.charCodeAt(1)},toUShort:function(t){return t=Math.round(t),String.fromCharCode(Math.floor(t/256))+String.fromCharCode(t%256)},fromUTribyte:function(t){return 65536*t.charCodeAt(0)+256*t.charCodeAt(1)+t.charCodeAt(2)},toUTribyte:function(t){return t=Math.round(t),String.fromCharCode(Math.floor(t/65536))+String.fromCharCode(Math.floor(t%65536/256))+String.fromCharCode(t%256)},fromUInt:function(t){return 16777216*t.charCodeAt(0)+65536*t.charCodeAt(1)+256*t.charCodeAt(2)+t.charCodeAt(3)},toUInt:function(t){return t=Math.round(t),String.fromCharCode(Math.floor(t/16777216))+String.fromCharCode(Math.floor(t%16777216/65536))+String.fromCharCode(Math.floor(t%65536/256))+String.fromCharCode(t%256)},fromSByte:function(t){return this.fromUByte(t)-128},toSByte:function(t){return this.toUByte(t+128)},fromSShort:function(t){return this.fromUShort(t)-32768},toSShort:function(t){return this.toUShort(t+32768)},fromSTribyte:function(t){return this.fromUTribyte(t)-8388608},toSTribyte:function(t){return this.toUTribyte(t+8388608)},fromSInt:function(t){return this.fromUInt(t)-2147483648},toSInt:function(t){return this.toUInt(t+2147483648)},fromFloat:function(t){var r=o(t),e=1,n=parseInt(r.substr(1,8),2)-127,a="0"===r.charAt(0)?1:-1;if(-127===n)return 0*a;if(128===n)return"0"===r.charAt(9)?1/0*a:NaN;for(var i=1;i<=23;i++)"1"===r.charAt(8+i)&&(e+=Math.pow(2,-i));return Math.pow(2,n)*e*a},toFloat:function(t){var r;if(0===t)r=(1/t>0?"0":"1")+"0000000000000000000000000000000";else if(isNaN(t))r="01111111110000000000000000000000";else{var e=Math.abs(t),o=Math.min(128,Math.max(-127,Math.floor(Math.log2(e)))),n=e/Math.pow(2,o);r=128===o?(t<0?"1":"0")+"1111111100000000000000000000000":(t<0?"1":"0")+("00000000"+(o+127).toString(2)).slice(-8)+(n.toString(2)+"00000000000000000000000").substr(2,23)}for(var a="",i=0;i<4;i++)a+=String.fromCharCode(parseInt(r.slice(8*i,8*i+8),2));return a},fromDouble:function(t){var r=o(t),e=1,n=parseInt(r.substr(1,11),2)-1023,a="0"===r.charAt(0)?1:-1;if(-1023===n)return 0*a;if(1024===n)return"0"===r.charAt(12)?1/0*a:NaN;for(var i=1;i<=52;i++)"1"===r.charAt(11+i)&&(e+=Math.pow(2,-i));return Math.pow(2,n)*e*a},toDouble:function(t){var r;if(0===t)r=(1/t>0?"0":"1")+"000000000000000000000000000000000000000000000000000000000000000";else if(isNaN(t))r="0111111111111000000000000000000000000000000000000000000000000000";else{var e=Math.abs(t),o=Math.min(1024,Math.max(-1023,Math.floor(Math.log2(e)))),n=e/Math.pow(2,o);r=1024===o?(t<0?"1":"0")+"111111111110000000000000000000000000000000000000000000000000000":(t<0?"1":"0")+("00000000000"+(o+1023).toString(2)).slice(-11)+(n.toString(2)+"0000000000000000000000000000000000000000000000000000").substr(2,52)}for(var a="",i=0;i<8;i++)a+=String.fromCharCode(parseInt(r.slice(8*i,8*i+8),2));return a}};"object"==typeof module&&"object"==typeof module.exports?(console.log("bitches"),module.exports=n):"undefined"!=typeof window?window.Binary=n:this.Binary=n}();